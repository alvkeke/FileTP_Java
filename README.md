# File-Transfer-Java

## 概述

这是新版的文件传输工具，此工具仍然分为前后端，此为后端程序。

## 程序结构

此程序将具体功能模块化分割，分别分割为：

* 发送模块
* 接收模块
* 发现模块
* 控制模块

这几个模块分别完成其功能，组合起来实现文件传输后端的功能。本程序中，这些模块都是Thread类的子类。

### 发送模块

1. 通过一个`BlockingQueue`完成线程调度，确保线程不会空转。
2. `BlockingQueue`中存放发送任务，任务中包含：
   1. 文件路径（本地）
   2. 目标地址与端口
3. 每一个文件建立一个TCP短链接，完成传输后关闭。

### 接收模块

接受模块时刻监听一个端口，该端口可以指定。发送方建立连接时对接到此端口。 结构为正常的TCP多线程服务端。

### 发现模块

此模块用来扫描局域网内的合法设备，可以得到局域网中响应的所有设备的

* IP地址
* 设备名称
* 接收TCP端口

**1. 此模块运行在UDP协议下，从而完成对局域网中设备的广播发现。**

**2. 端口统一指定，不可修改**

### 控制模块

此模块用来完成程序前、后端交互的，配置与发送控制都通过此模块。

## 协议

### 传输协议

TODO

### 控制协议

TODO